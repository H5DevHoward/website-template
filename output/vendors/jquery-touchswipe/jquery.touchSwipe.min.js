(function(e){typeof define=="function"&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)})(function(e){function L(t){return t&&t.allowPageScroll===undefined&&(t.swipe!==undefined||t.swipeStatus!==undefined)&&(t.allowPageScroll=u),t.click!==undefined&&t.tap===undefined&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),r=n.data(C);r||(r=new A(this,t),n.data(C,r))})}function A(d,k){function ot(t){if(Rt())return;if(e(t.target).closest(k.excludedElements,J).length>0)return;var n=t.originalEvent?t.originalEvent:t,r,i=x?n.touches[0]:n;K=b,x?Q=n.touches.length:t.preventDefault(),H=0,F=null,V=null,I=0,R=0,U=0,W=1,X=0,G=Vt(),$=Kt(),It();if(!x||Q===k.fingers||k.fingers===g||Et()){zt(0,i),Y=sn(),Q==2&&(zt(1,n.touches[1]),R=U=Yt(G[0].start,G[1].start));if(k.swipeStatus||k.pinchStatus)r=pt(n,K)}else r=!1;return r===!1?(K=S,pt(n,K),r):(k.hold&&(it=setTimeout(e.proxy(function(){J.trigger("hold",[n.target]),k.hold&&(r=k.hold.call(J,n,n.target))},this),k.longTapThreshold)),Ut(!0),null)}function ut(e){var t=e.originalEvent?e.originalEvent:e;if(K===E||K===S||qt())return;var n,r=x?t.touches[0]:t,i=Wt(r);Z=sn(),x&&(Q=t.touches.length),k.hold&&clearTimeout(it),K=w,Q==2&&(R==0?(zt(1,t.touches[1]),R=U=Yt(G[0].start,G[1].start)):(Wt(t.touches[1]),U=Yt(G[0].end,G[1].end),V=en(G[0].end,G[1].end)),W=Zt(R,U),X=Math.abs(R-U));if(Q===k.fingers||k.fingers===g||!x||Et()){F=rn(i.start,i.end),bt(e,F),H=tn(i.start,i.end),I=Gt(),$t(F,H);if(k.swipeStatus||k.pinchStatus)n=pt(t,K);if(!k.triggerOnTouchEnd||k.triggerOnTouchLeave){var s=!0;if(k.triggerOnTouchLeave){var o=on(this);s=un(i.end,o)}!k.triggerOnTouchEnd&&s?K=ht(w):k.triggerOnTouchLeave&&!s&&(K=ht(E)),(K==S||K==E)&&pt(t,K)}}else K=S,pt(t,K);n===!1&&(K=S,pt(t,K))}function at(e){var t=e.originalEvent;return x&&t.touches.length>0?(Ft(),!0):(qt()&&(Q=tt),Z=sn(),I=Gt(),mt()||!vt()?(K=S,pt(t,K)):k.triggerOnTouchEnd||k.triggerOnTouchEnd==0&&K===w?(e.preventDefault(),K=E,pt(t,K)):!k.triggerOnTouchEnd&&Lt()?(K=E,dt(t,K,c)):K===w&&(K=S,pt(t,K)),Ut(!1),null)}function ft(){Q=0,Z=0,Y=0,R=0,U=0,W=1,It(),Ut(!1)}function lt(e){var t=e.originalEvent;k.triggerOnTouchLeave&&(K=ht(E),pt(t,K))}function ct(){J.unbind(A,ot),J.unbind(P,ft),J.unbind(O,ut),J.unbind(M,at),_&&J.unbind(_,lt),Ut(!1)}function ht(e){var t=e,n=yt(),r=vt(),i=mt();return!n||i?t=S:r&&e==w&&(!k.triggerOnTouchEnd||k.triggerOnTouchLeave)?t=E:!r&&e==E&&k.triggerOnTouchLeave&&(t=S),t}function pt(e,t){var n=undefined;return Nt()||Tt()?n=dt(e,t,f):(St()||Et())&&n!==!1&&(n=dt(e,t,l)),Bt()&&n!==!1?n=dt(e,t,h):jt()&&n!==!1?n=dt(e,t,p):Ht()&&n!==!1&&(n=dt(e,t,c)),t===S&&ft(e),t===E&&(x?e.touches.length==0&&ft(e):ft(e)),n}function dt(u,a,d){var v=undefined;if(d==f){J.trigger("swipeStatus",[a,F||null,H||0,I||0,Q,G]);if(k.swipeStatus){v=k.swipeStatus.call(J,u,a,F||null,H||0,I||0,Q,G);if(v===!1)return!1}if(a==E&&xt()){J.trigger("swipe",[F,H,I,Q,G]);if(k.swipe){v=k.swipe.call(J,u,F,H,I,Q,G);if(v===!1)return!1}switch(F){case t:J.trigger("swipeLeft",[F,H,I,Q,G]),k.swipeLeft&&(v=k.swipeLeft.call(J,u,F,H,I,Q,G));break;case n:J.trigger("swipeRight",[F,H,I,Q,G]),k.swipeRight&&(v=k.swipeRight.call(J,u,F,H,I,Q,G));break;case r:J.trigger("swipeUp",[F,H,I,Q,G]),k.swipeUp&&(v=k.swipeUp.call(J,u,F,H,I,Q,G));break;case i:J.trigger("swipeDown",[F,H,I,Q,G]),k.swipeDown&&(v=k.swipeDown.call(J,u,F,H,I,Q,G))}}}if(d==l){J.trigger("pinchStatus",[a,V||null,X||0,I||0,Q,W,G]);if(k.pinchStatus){v=k.pinchStatus.call(J,u,a,V||null,X||0,I||0,Q,W,G);if(v===!1)return!1}if(a==E&&wt())switch(V){case s:J.trigger("pinchIn",[V||null,X||0,I||0,Q,W,G]),k.pinchIn&&(v=k.pinchIn.call(J,u,V||null,X||0,I||0,Q,W,G));break;case o:J.trigger("pinchOut",[V||null,X||0,I||0,Q,W,G]),k.pinchOut&&(v=k.pinchOut.call(J,u,V||null,X||0,I||0,Q,W,G))}}if(d==c){if(a===S||a===E)clearTimeout(rt),clearTimeout(it),At()&&!_t()?(nt=sn(),rt=setTimeout(e.proxy(function(){nt=null,J.trigger("tap",[u.target]),k.tap&&(v=k.tap.call(J,u,u.target))},this),k.doubleTapThreshold)):(nt=null,J.trigger("tap",[u.target]),k.tap&&(v=k.tap.call(J,u,u.target)))}else if(d==h){if(a===S||a===E)clearTimeout(rt),nt=null,J.trigger("doubletap",[u.target]),k.doubleTap&&(v=k.doubleTap.call(J,u,u.target))}else d==p&&(a===S||a===E)&&(clearTimeout(rt),nt=null,J.trigger("longtap",[u.target]),k.longTap&&(v=k.longTap.call(J,u,u.target)));return v}function vt(){var e=!0;return k.threshold!==null&&(e=H>=k.threshold),e}function mt(){var e=!1;return k.cancelThreshold!==null&&F!==null&&(e=Jt(F)-H>=k.cancelThreshold),e}function gt(){return k.pinchThreshold!==null?X>=k.pinchThreshold:!0}function yt(){var e;return k.maxTimeThreshold?I>=k.maxTimeThreshold?e=!1:e=!0:e=!0,e}function bt(e,s){if(k.allowPageScroll===u||Et())e.preventDefault();else{var o=k.allowPageScroll===a;switch(s){case t:(k.swipeLeft&&o||!o&&k.allowPageScroll!=v)&&e.preventDefault();break;case n:(k.swipeRight&&o||!o&&k.allowPageScroll!=v)&&e.preventDefault();break;case r:(k.swipeUp&&o||!o&&k.allowPageScroll!=m)&&e.preventDefault();break;case i:(k.swipeDown&&o||!o&&k.allowPageScroll!=m)&&e.preventDefault()}}}function wt(){var e=Ct(),t=kt(),n=gt();return e&&t&&n}function Et(){return!!(k.pinchStatus||k.pinchIn||k.pinchOut)}function St(){return!!wt()&&!!Et()}function xt(){var e=yt(),t=vt(),n=Ct(),r=kt(),i=mt(),s=!i&&r&&n&&t&&e;return s}function Tt(){return!!(k.swipe||k.swipeStatus||k.swipeLeft||k.swipeRight||k.swipeUp||k.swipeDown)}function Nt(){return!!xt()&&!!Tt()}function Ct(){return Q===k.fingers||k.fingers===g||!x}function kt(){return G[0].end.x!==0}function Lt(){return!!k.tap}function At(){return!!k.doubleTap}function Ot(){return!!k.longTap}function Mt(){if(nt==null)return!1;var e=sn();return At()&&e-nt<=k.doubleTapThreshold}function _t(){return Mt()}function Dt(){return(Q===1||!x)&&(isNaN(H)||H<k.threshold)}function Pt(){return I>k.longTapThreshold&&H<y}function Ht(){return!!Dt()&&!!Lt()}function Bt(){return!!Mt()&&!!At()}function jt(){return!!Pt()&&!!Ot()}function Ft(){et=sn(),tt=event.touches.length+1}function It(){et=0,tt=0}function qt(){var e=!1;if(et){var t=sn()-et;t<=k.fingerReleaseThreshold&&(e=!0)}return e}function Rt(){return J.data(C+"_intouch")===!0}function Ut(e){e===!0?(J.bind(O,ut),J.bind(M,at),_&&J.bind(_,lt)):(J.unbind(O,ut,!1),J.unbind(M,at,!1),_&&J.unbind(_,lt,!1)),J.data(C+"_intouch",e===!0)}function zt(e,t){var n=t.identifier!==undefined?t.identifier:0;return G[e].identifier=n,G[e].start.x=G[e].end.x=t.pageX||t.clientX,G[e].start.y=G[e].end.y=t.pageY||t.clientY,G[e]}function Wt(e){var t=e.identifier!==undefined?e.identifier:0,n=Xt(t);return n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function Xt(e){for(var t=0;t<G.length;t++)if(G[t].identifier==e)return G[t]}function Vt(){var e=[];for(var t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function $t(e,t){t=Math.max(t,Jt(e)),$[e].distance=t}function Jt(e){return $[e]?$[e].distance:undefined}function Kt(){var e={};return e[t]=Qt(t),e[n]=Qt(n),e[r]=Qt(r),e[i]=Qt(i),e}function Qt(e){return{direction:e,distance:0}}function Gt(){return Z-Y}function Yt(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function Zt(e,t){var n=t/e*1;return n.toFixed(2)}function en(){return W<1?o:s}function tn(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function nn(e,t){var n=e.x-t.x,r=t.y-e.y,i=Math.atan2(r,n),s=Math.round(i*180/Math.PI);return s<0&&(s=360-Math.abs(s)),s}function rn(e,s){var o=nn(e,s);return o<=45&&o>=0?t:o<=360&&o>=315?t:o>=135&&o<=225?n:o>45&&o<135?i:r}function sn(){var e=new Date;return e.getTime()}function on(t){t=e(t);var n=t.offset(),r={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return r}function un(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var L=x||N||!k.fallbackToMouseEvents,A=L?N?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",O=L?N?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",M=L?N?T?"MSPointerUp":"pointerup":"touchend":"mouseup",_=L?null:"mouseleave",P=N?T?"MSPointerCancel":"pointercancel":"touchcancel",H=0,F=null,I=0,R=0,U=0,W=1,X=0,V=0,$=null,J=e(d),K="start",Q=0,G=null,Y=0,Z=0,et=0,tt=0,nt=0,rt=null,it=null;try{J.bind(A,ot),J.bind(P,ft)}catch(st){e.error("events not supported "+A+","+P+" on jQuery.swipe")}this.enable=function(){return J.bind(A,ot),J.bind(P,ft),J},this.disable=function(){return ct(),J},this.destroy=function(){return ct(),J.data(C,null),J},this.option=function(t,n){if(k[t]!==undefined){if(n===undefined)return k[t];k[t]=n}else e.error("Option "+t+" does not exist on jQuery.swipe.options");return null}}var t="left",n="right",r="up",i="down",s="in",o="out",u="none",a="auto",f="swipe",l="pinch",c="tap",h="doubletap",p="longtap",d="hold",v="horizontal",m="vertical",g="all",y=10,b="start",w="move",E="end",S="cancel",x="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,N=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,C="TouchSwipe",k={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(t){var n=e(this),r=n.data(C);if(r&&typeof t=="string"){if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on jQuery.swipe")}else if(!r&&(typeof t=="object"||!t))return L.apply(this,arguments);return n},e.fn.swipe.defaults=k,e.fn.swipe.phases={PHASE_START:b,PHASE_MOVE:w,PHASE_END:E,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:t,RIGHT:n,UP:r,DOWN:i,IN:s,OUT:o},e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:v,VERTICAL:m,AUTO:a},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:g}});